/* Profile â€“ friendly, pencil-drawn look */
:root{
  --paper:#FAF9F6;
  --line:#9A9AA1;
  --line-soft:#E2E3E8;
  --ink:#1A1A1A;
  --ink-3:#8A8A8A;

  --mood-bad:#FFCACA;
  --mood-poor:#FFE4B8;
  --mood-neutral:#E9EDF2;
  --mood-good:#CFEFD9;
  --mood-best:#CDE2FF;

  --shadow:0 2px 0 rgba(0,0,0,.05), 0 6px 14px rgba(0,0,0,.06);
}

body.bg-grad-purple{
  background:
    radial-gradient(rgba(0,0,0,.02) 1px, transparent 1px) 0 0/12px 12px,
    linear-gradient(180deg, #fbfbfd, #f5f4ff 38%, #f6fbff);
}

.profile-page{
  min-height:100dvh;
  display:grid;
  place-items:center;
  padding:clamp(16px,3vw,32px);
}

.profile-card.section{
  width:100%;
  max-width:960px;
  border-radius:22px;
  border:2px solid var(--line);
  background:#fff;
  box-shadow:var(--shadow);
  padding:22px;
  position:relative;
}
.profile-card.section::after{
  content:"";
  position:absolute;
  inset:8px;
  border-radius:18px;
  border:1.5px dashed rgba(0,0,0,.16);
  pointer-events:none;
  animation:sketch 4s ease-in-out infinite;
}
@keyframes sketch{
  0%,100%{transform:rotate(.1deg)}
  50%{transform:rotate(-.2deg)}
}

/* Header */
.profile-header{
  display:flex; align-items:center; gap:14px; justify-content:flex-start;
  margin-bottom:14px;
}
.avatar{
  width:64px;height:64px;border-radius:18px;border:2px solid var(--line);
  display:grid;place-items:center; background:#fff; box-shadow:var(--shadow);
  position:relative; overflow:hidden;
}
.avatar::before{
  content:""; position:absolute; inset:0; background:
    linear-gradient(120deg, rgba(0,0,0,.03), transparent 45%, rgba(0,0,0,.03));
}
.avatar span{ font-weight:900; letter-spacing:.3px }
.avatar-fallback{ width:28px;height:28px; opacity:.7; display:none }
.title-group .profile-title{
  margin:0; font-size:22px; font-weight:900; letter-spacing:.2px;
  text-shadow:0 .5px 0 rgba(0,0,0,.14);
}
.profile-sub{ margin:.5px 0 0; color:var(--ink-3); font-size:14px }

/* Grid */
.profile-grid{
  display:grid; gap:18px; grid-template-columns:1.1fr .9fr;
}
@media (max-width:860px){ .profile-grid{ grid-template-columns:1fr } }

.profile-info .kv{
  display:flex; justify-content:space-between; align-items:center;
  gap:10px; padding:10px 12px; border:2px solid var(--line-soft);
  border-radius:12px; background:#fff; box-shadow:var(--shadow);
  font-size:15px; margin:8px 0;
}
.profile-info .kv b{ font-weight:900 }
.muted{ color:var(--ink-3) }

.actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px }
.inline{ display:inline }

/* Stats */
.profile-stats{
  display:grid; gap:12px;
  grid-template-columns:1fr; align-content:start;
}
.stat-card{
  border:2px solid var(--line); border-radius:16px; padding:12px;
  background:#fff; box-shadow:var(--shadow);
}
.stat-top{ display:flex; align-items:center; gap:8px; color:#2b2b2b; font-weight:800 }
.stat-icon{ font-size:18px }
.stat-label{ font-size:14px; opacity:.9 }
.stat-value{ font-weight:900; font-size:28px; margin:8px 0 2px }
.stat-hint{ color:var(--ink-3) }

.mood-chip{
  display:inline-block; padding:6px 10px; border-radius:999px; font-size:16px;
  border:2px solid rgba(0,0,0,.12);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.6), var(--shadow);
}

/* Heat strip */
.heat-strip-wrap{
  margin-top:14px; border-top:2px dashed var(--line-soft); padding-top:14px;
}
.heat-strip-head{ display:flex; align-items:center; justify-content:space-between; gap:10px }
.legend{ display:flex; align-items:center; gap:10px; font-size:12px; color:var(--ink-3) }
.legend-box{ width:14px; height:10px; border-radius:3px; display:inline-block; border:1px solid rgba(0,0,0,.12) }
.legend-bad{ background:var(--mood-bad) }
.legend-poor{ background:var(--mood-poor) }
.legend-neutral{ background:var(--mood-neutral) }
.legend-good{ background:var(--mood-good) }
.legend-best{ background:var(--mood-best) }

.heat-strip{
  margin-top:10px; display:grid; grid-auto-flow:column; grid-auto-columns:minmax(10px,1fr);
  gap:6px; align-items:center;
  min-height:26px;
}
.heat-cell{
  height:22px; border-radius:6px; border:2px solid var(--line);
  background:#fff; box-shadow:var(--shadow);
  position:relative;
  transition:transform .12s;
}
.heat-cell[data-mood]:hover{ transform:translateY(-2px) }
.heat-cell[data-mood="bad"]{ background:var(--mood-bad) }
.heat-cell[data-mood="poor"]{ background:var(--mood-poor) }
.heat-cell[data-mood="neutral"]{ background:var(--mood-neutral) }
.heat-cell[data-mood="good"]{ background:var(--mood-good) }
.heat-cell[data-mood="best"]{ background:var(--mood-best) }

/* Skeleton */
.skeleton{ position:relative; color:transparent !important }
.skeleton::after{
  content:""; position:absolute; inset:0; border-radius:6px;
  background:linear-gradient(90deg, rgba(0,0,0,.06), rgba(0,0,0,.02), rgba(0,0,0,.06));
  animation:shimmer 1.3s infinite linear;
}
@keyframes shimmer{ 0%{transform:translateX(-100%)} 100%{transform:translateX(100%)} }

/* Confetti (emoji burst) */
.confetti{
  position:fixed; inset:0; pointer-events:none; overflow:hidden; z-index:10000;
}
.confetti i{
  position:absolute; font-size:18px; will-change:transform, opacity;
  animation:fall 1400ms ease-in forwards;
}
@keyframes fall{
  0%{ transform:translateY(-20vh) rotate(0); opacity:1 }
  100%{ transform:translateY(110vh) rotate(360deg); opacity:0 }
}
