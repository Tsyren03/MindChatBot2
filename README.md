
# üß† MindChatBot

**MindChatBot** is an AI-powered mental health companion built with **Spring Boot**, **MongoDB**, and a **vanilla HTML/CSS/JavaScript frontend**.  
It helps users **track their mood**, **analyze journal entries**, and **receive emotional feedback** generated by the **OpenAI GPT API (`gpt-4o-mini`)** ‚Äî one of the most efficient and affordable models.

---

## üí° Motivation

Mental health is often overlooked in busy daily life.  
MindChatBot offers a simple way to **express your emotions**, **reflect on your day**, and **get AI-driven emotional insights** ‚Äî all in one app.

---

## üåü Features

### üí¨ Chat with AI
- Communicate with an intelligent chatbot that understands your emotional state.
- GPT-based responses provide **empathetic and personalized feedback**.
- Uses `gpt-4o-mini` ‚Äî optimized for cost-effective emotion analysis and natural language.

### üóìÔ∏è Mood Tracker
- Record your **daily mood** through a visual calendar interface.
- GPT analyzes journal entries to **detect emotions automatically** and updates your mood calendar.

### üìî Journal & Emotion Detection
- Write daily reflections.
- Each entry is analyzed by GPT and **emotion tags** are stored in MongoDB.
- The chatbot provides short, casual, and friendly responses.

### üîê Authentication & Security
- **Two-Factor Registration** via **email verification**.
- User accounts are protected using **JWT tokens** (environment variable `JWT_SECRET_KEY`).
- Mail service configured via Gmail SMTP for secure delivery.

### üåê Multi-Language Support
- Supports **three languages:** üá∑üá∫ Russian, üá∞üá∑ Korean, and üá¨üáß English.  
- Uses Spring internationalization (`spring.messages`) with UTF-8 encoding.

### ‚òÅÔ∏è Hosting & Integration
- Hosted on **Google Cloud Platform (GCP Free Tier)**.
- Deployed using **Docker containers** built for the `linux/amd64` platform.

---
## üé¨ Demo
[https://github.com/Tsyren03/MindChatBot2/issues/1#issue-3577293240](https://private-user-images.githubusercontent.com/132072743/508523047-4112b23c-84ea-4a15-9afe-aae8b003eba7.mp4?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjE5NzU4OTIsIm5iZiI6MTc2MTk3NTU5MiwicGF0aCI6Ii8xMzIwNzI3NDMvNTA4NTIzMDQ3LTQxMTJiMjNjLTg0ZWEtNGExNS05YWZlLWFhZThiMDAzZWJhNy5tcDQ_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUxMTAxJTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MTEwMVQwNTM5NTJaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT05ZmU2YTMwYTMzNmIwNWQzOWI2MGEyMGU3N2RmNWU1OGIyYWJjNzk3MWU3Y2NlZTA5ZDNhNzVkOTc5YjAwOWQ3JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.qZ9ZOx0degMDAmxIRYGopOz1OLS63aioBHPs7dsUXCk)

---
## üß© Tech Stack

| Layer | Technology |
|:------|:------------|
| Backend | Spring Boot (Java 17, Gradle) |
| Database | MongoDB |
| AI Integration | OpenAI GPT API (`gpt-4o-mini`) |
| Frontend | HTML, CSS, JavaScript |
| Authentication | JWT + Email Verification |
| Deployment | Docker + Google Cloud Platform (Free Tier) |
| Version Control | Git & GitHub |

---

## ‚öôÔ∏è Architecture Overview

```

Frontend (HTML/CSS/JS)
‚Üì
Spring Boot REST API
‚Üì
MongoDB ‚Üê‚Üí OpenAI GPT API

```

- The frontend communicates with the backend via REST APIs.  
- The backend processes user input, GPT analysis, and mood detection.  
- MongoDB stores chat logs, journal entries, and user mood data.  
- UTF-8 encoding and internationalization support are enabled.

---

## üß± Prerequisites

Before running the project, ensure you have the following installed:

- **Java 17**
- **MongoDB** (local or remote)
- **Gradle**
- **Docker**
- **OpenAI API Key** (from [OpenAI Platform](https://platform.openai.com/))
- **Mail App Password** for Gmail SMTP
- **JWT Secret Key**

### üß© Environment Variables Required
```

OPENAI_API_KEY=your_openai_key
MONGO_URI=your_mongodb_uri
MAIL_PASSWORD=your_gmail_app_password
JWT_SECRET_KEY=your_jwt_secret

````

---

## üöÄ Getting Started (Local)

### 1. Clone the Repository
```bash
git clone https://github.com/Tsyren03/MindChatBot2.git
cd MindChatBot2
````

### 2. Start MongoDB

If you are using Homebrew on macOS:

```bash
mongod --dbpath "$BREW_PREFIX/var/mongodb" \
       --logpath "$BREW_PREFIX/var/log/mongodb/mongo.log" \
       --fork --bind_ip 127.0.0.1 --port 27017
mongosh
```

### 3. Configure Environment Variables

Create a `.env` file or set environment variables in your terminal:

```
OPENAI_API_KEY=your_api_key_here
MONGO_URI=your_local_or_atlas_uri
MAIL_PASSWORD=your_gmail_app_password
JWT_SECRET_KEY=your_jwt_secret
```

### 4. Build and Run the Backend

```bash
./gradlew bootRun
```

Runs on:
üëâ `http://localhost:8080`



---

## üê≥ Docker & Google Cloud Deployment

This project is **Dockerized** and deployed on **Google Cloud Platform (Free Tier)**.

### Build Docker Image

```bash
docker build --platform linux/amd64 -t asia-northeast3-docker.pkg.dev/mindchatbot-474810/mindchatbot-repo/mindchatbot-java:v1 .
```

### Push Image to Google Artifact Registry

```bash
docker push asia-northeast3-docker.pkg.dev/mindchatbot-474810/mindchatbot-repo/mindchatbot-java:v1
```

### Notes

* Hosted in the **Asia-Northeast3 (Seoul)** region.
* Automatically stops when GCP Free Tier credits are used up ‚Äî preventing overcharges.

---

## ‚öôÔ∏è Configuration Summary (`application.yml`)

```yaml
server:
  servlet:
    encoding:
      charset: UTF-8
      enabled: true
      force: true

spring:
  messages:
    basename: messages
    encoding: UTF-8
    fallback-to-system-locale: false
  thymeleaf:
    encoding: UTF-8
    cache: false
  data:
    mongodb:
      uri: ${MONGO_URI}
  mail:
    host: smtp.gmail.com
    port: 587
    username: mindchatbotst@gmail.com
    password: ${MAIL_PASSWORD}
    properties:
      mail:
        smtp:
          auth: true
          starttls.enable: true
  web:
    resources:
      static-locations: classpath:/static/

openai:
  api.key: ${OPENAI_API_KEY}
  model: gpt-4o-mini
  system.prompt: |
    You are a kind, emotionally smart mental health assistant.
    Keep replies short, casual, and friendly‚Äîlike social media messages.
    Listen well and respond with empathy without repeating yourself.
    Encourage sharing, but don‚Äôt push.

jwt:
  secret: ${JWT_SECRET_KEY}

logging:
  level:
    org.springframework.security: INFO
    MindChatBot.mindChatBot: INFO
```

---

## üß† Core Packages (Backend)

```
MindChatBot/
 ‚îú‚îÄ‚îÄ controller/       ‚Üí REST Controllers for Chat, Mood, Journal, Auth
 ‚îú‚îÄ‚îÄ service/          ‚Üí Business logic & OpenAI integration
 ‚îú‚îÄ‚îÄ model/            ‚Üí MongoDB data models (ChatLog, Mood, JournalEntry, User)
 ‚îú‚îÄ‚îÄ repository/       ‚Üí MongoDB repositories
 ‚îú‚îÄ‚îÄ config/           ‚Üí App, Mail, and Security configuration
 ‚îî‚îÄ‚îÄ util/             ‚Üí Utility classes and helpers
```

---

## üì¶ Example API Endpoints

| Endpoint             | Method     | Description                               |
| -------------------- | ---------- | ----------------------------------------- |
| `/api/chat`          | POST       | Send message to GPT and get reply         |
| `/api/mood`          | GET / POST | Retrieve or save daily mood               |
| `/api/journal`       | POST       | Save journal entry and analyze mood       |
| `/api/auth/register` | POST       | Register new user with email verification |
| `/api/auth/login`    | POST       | User login and JWT token issuance         |

---

## üßë‚Äçüíª Author

**Yury Li (Ïù¥Ïú†Î¶¨)**
üíª Computer Science Student |
üìß Contact: [GitHub Profile](https://github.com/Tsyren03)

---

## ü™™ License

This project is licensed under the **MIT License**.

---

## ‚ù§Ô∏è Acknowledgments

* [OpenAI GPT API](https://platform.openai.com/)
* [Spring Boot Framework](https://spring.io/projects/spring-boot)
* [MongoDB](https://www.mongodb.com/)
* [Gradle](https://gradle.org/)
* [Google Cloud Platform](https://cloud.google.com/)
* [Docker](https://www.docker.com/)

```
